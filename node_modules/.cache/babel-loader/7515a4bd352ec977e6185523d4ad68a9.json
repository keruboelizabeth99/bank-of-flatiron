{"ast":null,"code":"import _toConsumableArray from \"/home/liz/Desktop/bank-of-flatiron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/liz/Desktop/bank-of-flatiron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"/home/liz/Desktop/bank-of-flatiron/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/liz/Desktop/bank-of-flatiron/src/components/Accounts.js\";\nimport React from \"react\";\nimport Search from \"./Search\";\nimport TransactionsForm from \"./TransactionsForm\";\nimport TransactionsList from \"./TransactionsList\";\nfunction Accounts() {\n  var _React$useState = React.useState([]),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    transactions = _React$useState2[0],\n    setTransactions = _React$useState2[1];\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    copyTransactions = _React$useState4[0],\n    setCopyTransactions = _React$useState4[1];\n  function dataFetch() {\n    fetch(\"http://localhost:8001/transactions\").then(function (res) {\n      return res.json();\n    }).then(function (result) {\n      setCopyTransactions(result);\n      setTransactions(result);\n    });\n  }\n  React.useEffect(function () {\n    dataFetch();\n  }, []);\n  function onSubmit(object) {\n    console.log(object);\n    fetch(\"http://localhost:8001/transactions\", {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\"\n      },\n      body: JSON.stringify(_objectSpread({}, object, {\n        \"amount\": parseInt(object.amount)\n      }))\n    }).then(function () {\n      return dataFetch();\n    });\n  }\n  function handleSearch(event) {\n    var searching = event.target.value.toLowerCase();\n    setTransactions(copyTransactions.filter(function (val) {\n      return val.description.toLowerCase().includes(searching);\n    }));\n  }\n  function handleSort(e) {\n    var criteria = e.target.textContent.toLowerCase();\n    function compare(a, b) {\n      if (a[criteria].toLowerCase() < b[criteria].toLowerCase()) {\n        return -1;\n      }\n      if (a[criteria].toLowerCase() > b[criteria].toLowerCase()) {\n        return 1;\n      }\n      return 0;\n    }\n    console.log(\"Welcome\");\n    setTransactions(_toConsumableArray(transactions.sort(compare)));\n  }\n  function handleDeletion(id) {\n    fetch(\"http://localhost:8001/transactions/\".concat(id), {\n      method: \"DELETE\"\n    }).then(function () {\n      return dataFetch();\n    });\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    handleSearch: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TransactionsForm, {\n    submit: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TransactionsList, {\n    transactions: transactions,\n    handleSort: handleSort,\n    handleDeletion: handleDeletion,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }));\n}\nexport default Accounts;","map":{"version":3,"names":["React","Search","TransactionsForm","TransactionsList","Accounts","_React$useState","useState","_React$useState2","_slicedToArray","transactions","setTransactions","_React$useState3","_React$useState4","copyTransactions","setCopyTransactions","dataFetch","fetch","then","res","json","result","useEffect","onSubmit","object","console","log","method","headers","body","JSON","stringify","_objectSpread","parseInt","amount","handleSearch","event","searching","target","value","toLowerCase","filter","val","description","includes","handleSort","e","criteria","textContent","compare","a","b","_toConsumableArray","sort","handleDeletion","id","concat","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","submit"],"sources":["/home/liz/Desktop/bank-of-flatiron/src/components/Accounts.js"],"sourcesContent":["import React from \"react\";\nimport Search from \"./Search\";\nimport TransactionsForm from \"./TransactionsForm\";\nimport TransactionsList from \"./TransactionsList\";\n\nfunction Accounts(){\n    const [transactions, setTransactions] = React.useState([]);\n    const [copyTransactions,setCopyTransactions] = React.useState([]);\n\n    function dataFetch(){\n        fetch(\"http://localhost:8001/transactions\")\n        .then(res => res.json())\n        .then(result => {\n            setCopyTransactions(result)\n            setTransactions(result)\n        })\n    }\n     React.useEffect(() => {\n        dataFetch()\n     }, [])\n\nfunction onSubmit(object){\n    console.log(object)\n\n    fetch(\"http://localhost:8001/transactions\",{\n        method: \"POST\",\n        headers: {\"content-type\" : \"application/json\"},\n        body:JSON.stringify({...object, \"amount\":parseInt(object.amount)})\n    }).then(()=>dataFetch())\n}\n\n    \nfunction handleSearch(event){\n    let searching = event.target.value.toLowerCase();\n    setTransactions(copyTransactions.filter(val => \n        val.description.toLowerCase().includes(searching)));\n}\n\nfunction handleSort(e){\n    let criteria = e.target.textContent.toLowerCase();\n    function compare(a,b){\n        if(a[criteria].toLowerCase()< b[criteria].toLowerCase()){\n            return -1;\n        }if(a[criteria].toLowerCase()> b[criteria].toLowerCase()){\n            return 1;\n        }\n    return 0;\n    }\n    console.log(\"Welcome\")\n    setTransactions([...transactions.sort(compare)])\n}\nfunction handleDeletion(id){\n    fetch(`http://localhost:8001/transactions/${id}`,{\n        method: \"DELETE\"\n    }).then(() => dataFetch())\n}\nreturn(\n    <div>\n        <Search handleSearch={handleSearch} />\n        <TransactionsForm submit={onSubmit}/>\n        <TransactionsList \n        transactions={transactions}\n        handleSort={handleSort}\n        handleDeletion={handleDeletion}\n        />\n    </div>\n)\n\n}\n\n\nexport default Accounts;"],"mappings":"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"},"metadata":{},"sourceType":"module"}